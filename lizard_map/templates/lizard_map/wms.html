{% extends "lizard_map/lizardgis.html" %}{% load i18n %}

{% block map-javascript %}
<script type="text/javascript"
        src="{{ STATIC_URL }}lizard_map/lizard_wms.js"></script>
{% endblock map-javascript %}

{% block above-content %}
<ul class="map-actions">
  {% if animation_slider %}
  <li id="animation-slider"
      class="map-action"
      data-min="{{ animation_slider.min }}"
      data-max="{{ animation_slider.max }}"
      data-step="{{ animation_slider.step }}"
      data-value="{{ animation_slider.value }}"
      data-ajax-path="{% url lizard_map.set_animation_date %}">
  </li>
  <li class="map-action">
    <span id="selected-date">{{ animation_slider.selected_date|date:"d/m/Y" }}</span>
  </li>
  {% endif %}
  {% if transparency_slider %}
  <li id="transparency-slider"
      class="map-action">
  </li>
  <li class="map-action">
    Transparantie
  </li>
  {% endif %}
  {% for workspace_item in workspaces.temp.0.workspace_items.all %}
  <li class="workspace-empty-temp map-action"
      data-workspace-item-id="{{ workspace_item.id }}">
    <span class="ss_sprite ss_map_delete action-icon">
      {% trans "tijdelijke workspace legen" %}
    </span>
  </li>
  {% endfor %}
</ul>
{% endblock above-content %}

{% block content %}
{# data attributes wms #}
<div id="lizard-map-wms"
     data-javascript-click-handler="{{ javascript_click_handler }}"
     data-javascript-hover-handler="{{ javascript_hover_handler }}"
     data-base-layer-type="OSM" {# OSM or WMS #}
     data-projection="EPSG:900913"  {# for WMS: EPSG:28992, EPSG:900913 #}
     data-display-projection="EPSG:4326"  {# for WMS: EPSG:28992, EPSG:900913, EPSG:4326 #}
     data-startlocation-x="550000" {# OSM, google projection #}
     data-startlocation-y="6850000"
     data-startlocation-zoom="10"
     data-base-layer-wms="http://nederlandwms.risicokaart.nl/wmsconnector/com.esri.wms.Esrimap?SERVICENAME=risicokaart_pub_nl_met_ondergrond&"
     data-base-layer-wms-layers="Outline_nederland,Dissolve_provincies,0,2,12,3,38,5,4,9,10"
     data-base-layer-osm="http://tile.openstreetmap.nl/tiles/${z}/${x}/${y}.png"
     >
     <!-- data-base-layer-type="WMS" {# OSM or WMS #} -->
     <!-- data-projection="EPSG:28992"  {# for WMS: EPSG:28992, EPSG:900913 #} -->
     <!-- data-display-projection="EPSG:28992"  {# for WMS: EPSG:28992, EPSG:900913, EPSG:4326 #} -->
     <!-- data-startlocation-x="127000" {# RD #} -->
     <!-- data-startlocation-y="473000" -->
     <!-- data-startlocation-zoom="4" -->

     <!-- data-base-layer-type="OSM" {# OSM or WMS #} -->
     <!-- data-projection="EPSG:900913"  {# for WMS: EPSG:28992, EPSG:900913 #} -->
     <!-- data-display-projection="EPSG:4326"  {# for WMS: EPSG:28992, EPSG:900913, EPSG:4326 #} -->
     <!-- data-startlocation-x="550000" {# OSM, google projection #} -->
     <!-- data-startlocation-y="6850000" -->
     <!-- data-startlocation-zoom="10" -->
  {% for workspace_list in workspaces.values %}
    {% for workspace in workspace_list %}
    <div class="workspace-layer"
         data-workspace-id="{{ workspace.id }}"
         data-workspace-name="{{ workspace.name }}"
         data-workspace-wms="{% url lizard_map_wms workspace_id=workspace.id %}">
    </div>
    {% endfor %}
  {% endfor %}
</div>
<div id="map"></div>
{% endblock content %}
